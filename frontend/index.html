<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cloud Portfolio - Tommaso Sorrentino</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ğŸŒ¥ï¸ Cloud Portfolio - Tommaso Sorrentino</h1>
    <p>Benvenuto nel mio portfolio personale. Questa pagina mostra le tecnologie cloud e DevOps che sto approfondendo, con particolare attenzione alla misurazione delle visite come metrica del traffico reale.</p>

    <ul>
      <li>â˜ï¸ <strong>Cloud</strong>: Azure (primario), conoscenze base su AWS e Oracle Cloud</li>
      <li>ğŸ› ï¸ <strong>Infrastructure as Code</strong>: Terraform</li>
      <li>ğŸ³ <strong>Containerizzazione</strong>: Docker</li>
      <li>ğŸ”„ <strong>CI/CD</strong>: pipeline di build e deploy automatico su App Service</li>
      <li>ğŸ” <strong>Sicurezza & Networking</strong>: configurazione base per ambiente di produzione</li>
      <li>ğŸ“ˆ <strong>Monitoraggio</strong>: endpoint <code>/health</code> attivo per verificare lo stato del servizio</li>
      <li>ğŸ‘ï¸ <strong>Contatore visite</strong>: questa pagina aggiorna un contatore persistente su <em>Cosmos DB</em> ad ogni caricamento</li>
      <li>ğŸ“Š Visite registrate finora: <strong><span id="counter">Caricamento...</span></strong></li>
    </ul>

    <p><a id="health-link" href="#" target="_blank">ğŸ” Visualizza stato backend (/health)</a></p>
  </div>

  <script>
    const BACKEND_URL = "https://app-healthcheck-demo.azurewebsites.net";

    fetch(`${BACKEND_URL}/counter`)
      .then(response => response.json())
      .then(data => {
        document.getElementById("counter").textContent = data.count;
      })
      .catch(err => {
        document.getElementById("counter").textContent = "errore";
        console.error("Errore nel recupero del contatore:", err);
      });

    document.getElementById("health-link").href = `${BACKEND_URL}/health`;
  </script>
</body>
</html>